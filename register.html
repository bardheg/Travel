<!DOCTYPE html>
<html>
  
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="register.css">
</head>
<body>

<form >
  <div class="container">
    <h1>Register</h1>
    <p>Please fill in this form to create an account.</p>
    <hr>

    <label for="name"><b>Name:</b></label>
    <input type="text" placeholder="Enter Name" name="name" id="name" required>

    <label for="email"><b>Email:</b></label>
    <input type="text" placeholder="Enter Email" name="email" id="email" required>

    <label for="psw"><b>Password:</b></label>
    <input type="password" placeholder="Enter Password" name="psw" id="psw" required>

    <label for="psw-repeat"><b>Repeat Password:</b></label>
    <input type="password" placeholder="Repeat Password" name="psw-repeat" id="psw-repeat" required>

    <label for="dob"><b>Date of Birth:</b></label>
    <input type="date" name="dob" id="dob" required>

    <label for="gender"><b>Gender</b></label>
    <select name="gender" id="gender" required>
      <option value="">Select Gender</option>
      <option value="male">Male</option>
      <option value="female">Female</option>
      <option value="other">Other</option>
    </select>

    <label for="nationality"><b>Nationality:</b></label>
    <input type="text" placeholder="Enter Nationality" name="nationality" id="nationality" required>
    
    <hr>
    <p>By creating an account you agree to our <a href="#">Terms & Privacy</a>.</p>

    <button type="submit" class="registerbtn" onclick="validateForm()">Register</button>
  </div>
  
  <div class="container signin">
    <p>Already have an account? <a href="Login.html">Sign in</a>.</p>
  </div>
</form>
</body>
  <script>

    function validateForm() {
      var name = document.getElementById("name").value;
      var email = document.getElementById("email").value;
      var password = document.getElementById("psw").value;
      var confirmPassword = document.getElementById("psw-repeat").value;
      var dob = document.getElementById("dob").value;
      var gender = document.getElementById("gender").value;
      var nationality = document.getElementById("nationality").value;

      if (name === "" || email === "" || password === "" || confirmPassword === "" || dob === "" || gender === "" || nationality === "") {
        alert("All fields must be filled out");
        return false;
      }

      var nameRegex = /^[a-zA-Z]+$/;
      if (!name.match(nameRegex)) {
        alert("Name can only contain letters (lowercase or uppercase)");
        return false;
      }

      var emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
      if (!email.match(emailRegex)) {
        alert("Invalid email format u have to include (@) symbol and end with .com or .net");
        return false;
      }

      var passwordRegex = /^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]+$/;
      if (!password.match(passwordRegex)) {
        alert("Password must contain at least one uppercase letter, one lowercase letter, one number, and one special character");
        return false;
      }

      if (password !== confirmPassword) {
        alert("Passwords do not match");
        return false;
      }
      // per me dit a osht user > 18 vjet
      var today = new Date();
      var birthDate = new Date(dob);
      var age = today.getFullYear() - birthDate.getFullYear();
      var monthDiff = today.getMonth() - birthDate.getMonth();
      if (monthDiff < 0 || (monthDiff === 0 && today.getDate() < birthDate.getDate())) {
        age--;
      }

      if (age < 18) {
        alert("You must be at least 18 years old to register");
        return false;
      }

      if (gender === "") {
        alert("Please select your gender");
        return false;
      }

      return true;
    }
  </script>
</html>